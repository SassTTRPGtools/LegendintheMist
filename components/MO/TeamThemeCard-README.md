# 團隊主題卡 - 專長系統使用指南

## 概述

團隊主題卡 (TeamThemeCard) 組件現已完全支援自定義專長功能，包括編輯模式和懸浮提示功能。

## 主要功能

### 1. 自定義專長管理
- 支援最多 5 個自定義專長
- 每個專長包含名稱和描述
- 編輯模式下可以添加、編輯、刪除專長
- 顯示模式下以標籤形式呈現專長

### 2. 懸浮提示功能
- 使用 `SpecialtyTooltip` 組件提供專長詳細信息
- 都市異景風格的懸浮提示框
- 智能位置調整，避免超出視窗邊界

### 3. 編輯模式功能
- 點擊「編輯」按鈕進入編輯模式
- 編輯模式下顯示專長編輯界面
- 提供「新增專長」按鈕（最多 5 個）
- 每個專長都有刪除按鈕
- 實時預覽功能

## 使用方式

### 在模板中使用

```vue
<TeamThemeCard
  :team-theme-card="character.teamThemeCard"
  @toggle-edit="toggleTeamThemeEdit"
/>
```

### 數據結構

```javascript
const teamThemeCard = {
  title: '團隊主題名稱',
  customSpecialties: [
    {
      name: '專長名稱',
      description: '專長描述'
    }
  ],
  abilities: [...],  // 能力標籤
  weaknesses: [...], // 弱點標籤
  improvements: [...], // 改進軌跡
  decays: [...],     // 衰變軌跡
  isEditing: false   // 編輯狀態
}
```

## 功能說明

### 專長計數
- 動態計算有效專長數量（同時有名稱和描述的專長）
- 顯示格式：`(當前數量/5)`

### 編輯界面
- **新增專長**：點擊「+ 新增專長」按鈕
- **編輯專長**：直接在輸入框中修改名稱和描述
- **預覽專長**：填寫完整信息後會顯示預覽標籤，支援懸浮提示
- **刪除專長**：點擊右上角的「×」按鈕

### 顯示界面
- 以標籤形式顯示所有有效專長
- 每個標籤都支援懸浮提示功能
- 都市異景風格的視覺效果

## 調試功能

### 控制台輸出
組件會在瀏覽器控制台輸出詳細的調試信息：

- 組件掛載狀態
- 專長數據變更
- 懸浮提示觸發事件
- 功能操作日誌

### 測試頁面
可以使用 `team-theme-test.html` 進行獨立測試：

1. 打開測試頁面
2. 按 F12 打開開發者工具
3. 切換編輯模式測試功能
4. 觀察控制台輸出

## 故障排除

### 常見問題

1. **專長無法顯示**
   - 檢查 `customSpecialties` 陣列是否正確初始化
   - 確認專長同時有名稱和描述

2. **懸浮提示不出現**
   - 檢查專長名稱和描述是否為空
   - 確認 SpecialtyTooltip 組件正確導入

3. **編輯功能無響應**
   - 檢查 `isEditing` 狀態
   - 確認事件處理器正確綁定

### 調試步驟

1. 打開瀏覽器開發者工具
2. 查看 Console 標籤中的調試輸出
3. 檢查組件掛載和數據流日誌
4. 驗證專長數據結構

## 更新歷史

### v1.0 (2025-07-06)
- 完整實現團隊主題卡專長系統
- 支援自定義專長的增刪改查
- 集成 SpecialtyTooltip 懸浮提示功能
- 添加完整的調試輸出
- 提供獨立測試頁面

## 相關文件

- `components/MO/TeamThemeCard.vue` - 主要組件
- `components/MO/SpecialtyTooltip.vue` - 懸浮提示組件
- `team-theme-test.html` - 測試頁面
- `pages/MO/character-builder.vue` - 角色建立器主頁面
